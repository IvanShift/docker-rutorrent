diff -ruN orig/plugins/rss/init.js mod/plugins/rss/init.js
--- orig/plugins/rss/init.js	2025-06-18 14:47:50.000000000 +0300
+++ mod/plugins/rss/init.js	2025-11-20 12:00:00.000000000 +0300
@@ -669,12 +669,18 @@
 
 plugin.updatedRSSEntry = (labelId, attrs) => {
	// Default to empty collections so "in" checks don't hit undefined when RSS payloads are missing.
-	attrs = { ...catlist.panelLabelAttribs.prss.get(labelId), ...attrs };
-	let icon = labelId in theWebUI.rssGroups ? 'rss-group' : 'rss';
-	const count = String(
-		labelId === 'prss_all'
-			? Object.keys(theWebUI.rssItems).length
-			: (theWebUI.rssLabels[labelId] ?? theWebUI.rssGroups[labelId]).cnt);
+	const rssGroups = theWebUI.rssGroups || {};
+	const rssLabels = theWebUI.rssLabels || {};
+	const rssItems = theWebUI.rssItems || {};
+	const delayedRSSErrors = theWebUI.delayedRSSErrors || {};
+	const baseAttrs = catlist.panelLabelAttribs.prss.get(labelId) || {};
+	attrs = { ...baseAttrs, ...attrs };
+	let icon = labelId in rssGroups ? 'rss-group' : 'rss';
+	const count = String(
+		labelId === 'prss_all'
+			? Object.keys(rssItems).length
+			: (rssLabels[labelId] ?? rssGroups[labelId] ?? { cnt: 0 }).cnt);
 	const title = `${attrs.text} (${count})`;
 	const selected = theWebUI.rssListVisible && catlist.isLabelIdSelected('prss', labelId);
-	const alert = labelId in theWebUI.delayedRSSErrors ? '⚠' : null;
+	const alert = labelId in delayedRSSErrors ? '⚠' : null;
 	// Check if enabled is 0, then change icon
-        if (theWebUI.rssLabels[labelId]?.enabled === 0) {
-                icon = 'rss-dis';
-        }
+	if (rssLabels[labelId]?.enabled === 0) {
+		icon = 'rss-dis';
+	}
 	return [labelId, {...attrs, icon, count, title, selected, alert}];
 }
 
 // Update feed and group RSS labels
 catlist.refreshPanel.prss = () => [
 	plugin.updatedRSSEntry('prss_all'),
-	...[theWebUI.rssGroups, theWebUI.rssLabels]
+	...[theWebUI.rssGroups || {}, theWebUI.rssLabels || {}]
 	.flatMap((rssLabels) => Object.entries(rssLabels)
 			.map(([_, feed]) => [_, feed.name])
 			.sort( ([_,a], [__, b]) => a.localeCompare(b))
@@ -735,6 +740,7 @@
 	const rssItems = {};
 	const rssLabels = {};
 	const table = this.getTable("rss");
 	const trtTable = this.getTable('trt');
+	const groups = (!d || Array.isArray(d.groups) || !d.groups) ? {} : d.groups;
 	// Insert items in rss table
 	for (const {hash, label, items, enabled, url} of d.list) {
 		rssLabels[hash] = { name: label, cnt: items.length, enabled, url };
@@ -786,14 +792,14 @@
 	}
 	// Update rss group item counts and enabled state
 	const allItems = Object.values(rssItems);
-	for (const group of Object.values(d.groups)) {
+	for (const group of Object.values(groups)) {
 		group.cnt = allItems
 			.filter(item => theWebUI.isGroupContain(group, item))
 			.length;
 		group.enabled = group.lst
 			.some(l => rssLabels[l]?.enabled);
 	}
 
 	this.rssItems = rssItems;
 	this.rssLabels = rssLabels;
-	this.rssGroups = Array.isArray(d.groups) ? {} : d.groups;
+	this.rssGroups = groups;
